(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{363:function(a,s,t){"use strict";t.r(s);var r=t(42),e=Object(r.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[a._v("#")]),a._v(" 准备工作")]),a._v(" "),t("ol",[t("li",[t("p",[t("strong",[a._v("申请一个"),t("a",{attrs:{href:"https://smartprogram.baidu.com/developer/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("百度账号"),t("OutboundLink")],1),a._v("并"),t("a",{attrs:{href:"https://smartprogram.baidu.com/docs/introduction/register_consummate/",target:"_blank",rel:"noopener noreferrer"}},[a._v("创建智能小程序"),t("OutboundLink")],1)])])]),a._v(" "),t("li",[t("p",[t("strong",[a._v("全局安装smart-cli")])])])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" @baidu/smart-cli -g --registry"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://registry.npm.baidu-int.com\n")])])]),t("p",[a._v("常见安装问题可参考："),t("a",{attrs:{href:"/question#CLI%E5%AE%89%E8%A3%85%E4%B8%8D%E6%88%90%E5%8A%9F"}},[a._v("CLI安装不成功")])]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[a._v("安装完成后执行smart --version，查看是否安装成功")])])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("smart --version\n")])])]),t("h2",{attrs:{id:"初始化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[a._v("#")]),a._v(" 初始化")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("smart init "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[a._v("初始化命令主要工作：")]),a._v(" "),t("ul",[t("li",[a._v("当前目录下创建名称为<app_name>的目录；")]),a._v(" "),t("li",[a._v("下载默认"),t("a",{attrs:{href:"/menu/menu"}},[a._v("模板目录")]),a._v("到<app_name>目录下。")])]),a._v(" "),t("h2",{attrs:{id:"安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[a._v("#")]),a._v(" 安装依赖")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("p",[a._v("install命令主要工作：")]),a._v(" "),t("ul",[t("li",[a._v("安装当前目录下package.json中的依赖；")]),a._v(" "),t("li",[a._v("执行在package.json的scripts属性里定义的postinstall钩子；")]),a._v(" "),t("li",[a._v("本地生成一个dist目录，和百度原生小程序的目录一致，并安装依赖。")])]),a._v(" "),t("p",[a._v("可以使用百度开发者工具代开dist目录，查看是否安装成功，具体使用可参考百度小程序"),t("a",{attrs:{href:"https://smartprogram.baidu.com/developer/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[a._v("#")]),a._v(" 开发")]),a._v(" "),t("ol",[t("li",[t("strong",[a._v("启动本地Server")])])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run dev\n")])])]),t("p",[a._v("dev命令执行成功，会启动一个本地server，监听本地修改，并编译。监听规则参考配置文件中"),t("a",{attrs:{href:"/config#rules"}},[a._v("rules")]),a._v("配置。可以使用百度开发者工具代开<app_name>目录，查看是否编译成功。")]),a._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[a._v("本地Mock")])])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run server:client\n")])])]),t("p",[a._v("命令行执行成功后，会启动一个本地Node服务，监听请求，根据请求地址，返回对应的本地mock文件。请求监听规则，可参考配置文件中"),t("a",{attrs:{href:"/config#clientMock"}},[a._v("clientMock")]),a._v("。mock文件的访问规则可在"),t("a",{attrs:{href:"/menu/mock"}},[a._v("mock.js")]),a._v("中查看。")]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[a._v("远程Mock")])])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run server:online\n")])])]),t("p",[a._v("命令行执行成功后，会启动一个本地Node服务，监听请求，根据请求地址，返回对应的本地mock文件。请求监听规则，可参考配置文件中"),t("a",{attrs:{href:"/config#onlineMock"}},[a._v("onlineMock")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[a._v("#")]),a._v(" 编译")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run build\n")])])]),t("p",[a._v("命令行会将<app_name>目录中的"),t("a",{attrs:{href:"/config#rules"}},[a._v("指定文件")]),a._v("，"),t("a",{attrs:{href:"/menu/build"}},[a._v("编译")]),a._v("并输出到dist目录中，和npm run dev的区别在于，npm run dev会监听修改，并编译，多次编译。")]),a._v(" "),t("h2",{attrs:{id:"其他命令行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他命令行"}},[a._v("#")]),a._v(" 其他命令行")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run start\n")])])]),t("p",[a._v("相当于npm install和npm run dev。")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("以上命名行，均可以在<app_name>目录下的package.json的scripts属性中查看，可根据具体需求进行定制化修改。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);