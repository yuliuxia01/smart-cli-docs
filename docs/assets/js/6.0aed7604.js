(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{352:function(s,t,a){s.exports=a.p+"assets/img/build.81073da7.png"},368:function(s,t,a){"use strict";a.r(t);var n=a(42),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"编译入口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译入口"}},[s._v("#")]),s._v(" 编译入口")]),s._v(" "),n("p",[s._v("模板的编译入口文件是gulpfile.js，该文件放在项目目录的根目录下。执行所有命令时，都会从该文件开始，然后根据具体的命令，运行相应的文件，命令主要分为三大类：")]),s._v(" "),n("ul",[n("li",[s._v("dev：编译并启动一个本地服务监听文件修改，在编译，包括npm run dev、npm run start；")]),s._v(" "),n("li",[s._v("mock：启动一个本地MOCK服务器，包括npm run server:client、npm run server:online；")]),s._v(" "),n("li",[s._v("build：仅编译，包括npm run build；")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(352),alt:"An image"}})]),s._v(" "),n("p",[s._v("命令行对应的package.json中的scripts配置如下：")]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gulp dev"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm install && gulp dev"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"server:client"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gulp mock --NODE_ENV clientMock"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"server:online"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gulp mock --NODE_ENV onlineMock"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gulp build"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h2",{attrs:{id:"编译实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译实现"}},[s._v("#")]),s._v(" 编译实现")]),s._v(" "),n("p",[s._v("处理编译的主要文件是：compress.gulp.js，该文件在项目目录的根目录下的build/目录下。")]),s._v(" "),n("ul",[n("li",[s._v("命令行")])]),s._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n或者 \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])])]),n("ul",[n("li",[s._v("读取配置文件，主要读取"),n("a",{attrs:{href:"/config#%E6%A8%A1%E6%9D%BF%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"}},[s._v("模板配置文件")]),s._v("中的：\n"),n("ul",[n("li",[s._v("pxtorpx：在编译文件中，先赋值给plugins")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);