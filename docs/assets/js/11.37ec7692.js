(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{362:function(t,a,s){"use strict";s.r(a);var n=s(42),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("全局安装Smart CLI")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g @baidu/smart-cli\n")])])]),s("p",[t._v("常见安装问题可参考："),s("a",{attrs:{href:"../question#cli%E5%AE%89%E8%A3%85%E4%B8%8D%E6%88%90%E5%8A%9F"}},[t._v("CLI安装不成功")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("strong",[t._v("安装完成后执行smart --version，查看是否安装成功")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart --version\n")])])]),s("h2",{attrs:{id:"初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[t._v("#")]),t._v(" 初始化")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart init "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("p",[t._v("初始化命令主要工作：")]),t._v(" "),s("ul",[s("li",[t._v("当前目录下创建名称为<app_name>的目录；")]),t._v(" "),s("li",[t._v("下载默认"),s("a",{attrs:{href:"../menu/menu"}},[t._v("模板目录")]),t._v("到<app_name>目录下。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("1.执行命令行会有如下提示：")]),t._v(" "),s("ul",[s("li",[t._v("'Overwrite'，表示继续执行初始化，下载远程模板目录到当前目录，并替换掉当前目录下所有文件；")]),t._v(" "),s("li",[t._v("'Cancel'，表示结束命令行，退出初始化。")])]),t._v(" "),s("p",[t._v("2.可以添加参数-p|--path在指定目录下初始化项目：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart init -p "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" appName\n")])])])]),t._v(" "),s("h2",{attrs:{id:"安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[t._v("#")]),t._v(" 安装依赖")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("app_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("p",[t._v("install命令主要工作：")]),t._v(" "),s("ul",[s("li",[t._v("安装当前目录下package.json中的依赖；")]),t._v(" "),s("li",[t._v("执行在package.json的scripts属性里定义的postinstall钩子；")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("执行scripts属性里定义的postinstall钩子时，主要做了以下工作：")]),t._v(" "),s("ul",[s("li",[t._v("复制项目目录下的.npmrc、package.json、package-lock.json文件到dist目录下；")]),t._v(" "),s("li",[t._v("在dist目录下安装依赖，并且只安装了package.json中dependencies属性中包含的插件。")])])]),t._v(" "),s("p",[t._v("可以使用百度开发者工具打项目目录，查看是否安装成功，具体使用可参考百度小程序"),s("a",{attrs:{href:"https://smartprogram.baidu.com/developer/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[t._v("#")]),t._v(" 开发")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("启动本地Server")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n")])])]),s("p",[t._v("dev命令执行成功，会启动一个本地server，监听本地修改，并编译。监听规则参考配置文件中"),s("a",{attrs:{href:"../config#rules"}},[t._v("rules")]),t._v("配置。可以使用百度开发者工具打开项目目录，查看是否编译成功。")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("strong",[t._v("本地Mock")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run server:client\n")])])]),s("p",[t._v("命令行执行成功后，会启动一个本地node服务，监听请求，根据请求地址，返回对应的本地mock文件。请求监听规则，可参考配置文件中"),s("a",{attrs:{href:"../config#clientMock"}},[t._v("clientMock")]),t._v("。mock文件的访问规则可在"),s("a",{attrs:{href:"../menu/mock"}},[t._v("Mock")]),t._v("中查看。")]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("strong",[t._v("远程Mock")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run server:online\n")])])]),s("p",[t._v("命令行执行成功后，会启动一个本地node服务，监听请求，代理到远程MOCK服务器。请求监听规则，可参考配置文件中"),s("a",{attrs:{href:"../config#onlineMock"}},[t._v("onlineMock")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"编译"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[t._v("#")]),t._v(" 编译")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" build.sh\n")])])]),s("p",[t._v("编译命令，具体可以参考"),s("a",{attrs:{href:"../menu/build"}},[t._v("编译Build")])]),t._v(" "),s("h2",{attrs:{id:"快速创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速创建"}},[t._v("#")]),t._v(" 快速创建")]),t._v(" "),s("p",[t._v("通过命令可以快速创建符合小程序page、component、file；")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart create "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nOptions:\n    -p --page "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pageName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("            create page\n    -c --component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("componentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  create component\n    -f --file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("fileName"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("            create "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n    -h, --help                      display "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("-p|--page")]),t._v(": 创建一个page目录，里面包含和[pageName]同名的四个文件，后缀分别为："),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/devjs/",target:"_blank",rel:"noopener noreferrer"}},[t._v(".js"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/devcss/",target:"_blank",rel:"noopener noreferrer"}},[t._v(".css"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/devjson/",target:"_blank",rel:"noopener noreferrer"}},[t._v(".json"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v(".swan"),s("OutboundLink")],1),t._v("。具体解释可参考"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/function_page/",target:"_blank",rel:"noopener noreferrer"}},[t._v("小程序页面"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("strong",[t._v("-c|--component")]),t._v(": 创建一个自定义component目录，里面包含和[componentName]同名的四个文件，后缀分别为：.js、.css、.json、.swan。具体解释可参考"),s("a",{attrs:{href:"https://smartprogram.baidu.com/docs/develop/framework/custom-component/",target:"_blank",rel:"noopener noreferrer"}},[t._v("小程序自定义组建"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("strong",[t._v("-f|--file")]),t._v(": 可以快速创建一个文件，例如："),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart create -f index.js\n")])])]),t._v("快速创建一个page页；"),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面加载的生命周期函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面初次渲染完成的生命周期函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面显示的生命周期函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面隐藏的生命周期函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onUnload")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面卸载的生命周期函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPullDownRefresh")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听用户下拉动作")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReachBottom")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面上拉触底事件的处理函数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShareAppMessage")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户点击右上角转发")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[s("strong",[t._v("[pageName]｜[componentName]")]),t._v(": 可以是目录结构的，例如")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart create -p pages/a/\n\nsmart create -c components/c/\n")])])])]),t._v(" "),s("h2",{attrs:{id:"其他命令行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他命令行"}},[t._v("#")]),t._v(" 其他命令行")]),t._v(" "),s("ol",[s("li")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run start\n")])])]),s("p",[t._v("相当于npm install和npm run dev。")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])])]),s("p",[t._v("该命令主要是提供给"),s("code",[t._v("sh build.sh")]),t._v("使用，它会将<app_name>目录中的"),s("a",{attrs:{href:"../config#rules"}},[t._v("指定文件")]),t._v("进行处理并输出到dist目录中。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("以上命名行，均可以在<app_name>目录下的package.json的scripts属性中查看，可根据具体需求进行定制化修改。")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart update\n")])])]),s("p",[t._v("更新Smart CLI命令行。")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("smart doc\n")])])]),s("p",[t._v("返回Smart CLI文档地址。")])])}),[],!1,null,null,null);a.default=e.exports}}]);