(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{363:function(s,a,t){"use strict";t.r(a);var e=t(42),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("全局安装Smart CLI")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g @baidu/smart-cli\n")])])]),t("p",[s._v("常见安装问题可参考："),t("a",{attrs:{href:"../question#cli%E5%AE%89%E8%A3%85%E4%B8%8D%E6%88%90%E5%8A%9F"}},[s._v("CLI安装不成功")])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("安装完成后执行smart --version，查看是否安装成功")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart --version\n")])])]),t("h2",{attrs:{id:"初始化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[s._v("#")]),s._v(" 初始化")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart init "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("初始化命令主要工作：")]),s._v(" "),t("ul",[t("li",[s._v("当前目录下创建名称为<app_name>的目录；")]),s._v(" "),t("li",[s._v("下载默认"),t("a",{attrs:{href:"../menu/menu"}},[s._v("模板目录")]),s._v("到<app_name>目录下。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("1.在已有的项目目录下执行：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart init "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),t("p",[s._v("会有命令行提示：")]),s._v(" "),t("ul",[t("li",[s._v("'Overwrite'，表示继续执行初始化，下载远程模板目录到当前目录，并替换掉当前目录下所有文件；")]),s._v(" "),t("li",[s._v("'Cancel'，表示结束命令行，退出初始化。")])]),s._v(" "),t("p",[s._v("2.可以添加参数-p|--path在指定目录下初始化项目：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart init -p "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" appName\n")])])])]),s._v(" "),t("h2",{attrs:{id:"安装依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[s._v("#")]),s._v(" 安装依赖")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("app_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("p",[s._v("install命令主要工作：")]),s._v(" "),t("ul",[t("li",[s._v("安装当前目录下package.json中的依赖；")]),s._v(" "),t("li",[s._v("执行在package.json的scripts属性里定义的postinstall钩子；")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("执行scripts属性里定义的postinstall钩子时，主要做了以下工作：")]),s._v(" "),t("ul",[t("li",[s._v("复制项目目录下的.npmrc、package.json、package-lock.json文件到dist目录下；")]),s._v(" "),t("li",[s._v("在dist目录下安装依赖，并且只安装了package.json中dependencies属性中包含的插件。")])])]),s._v(" "),t("p",[s._v("可以使用百度开发者工具打项目目录，查看是否安装成功，具体使用可参考百度小程序"),t("a",{attrs:{href:"https://smartprogram.baidu.com/developer/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[s._v("#")]),s._v(" 开发")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("启动本地Server")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])])]),t("p",[s._v("dev命令执行成功，会启动一个本地server，监听本地修改，并编译。监听规则参考配置文件中"),t("a",{attrs:{href:"../config#rules"}},[s._v("rules")]),s._v("配置。可以使用百度开发者工具打开项目目录，查看是否编译成功。")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("本地Mock")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run server:client\n")])])]),t("p",[s._v("命令行执行成功后，会启动一个本地node服务，监听请求，根据请求地址，返回对应的本地mock文件。请求监听规则，可参考配置文件中"),t("a",{attrs:{href:"../config#clientMock"}},[s._v("clientMock")]),s._v("。mock文件的访问规则可在"),t("a",{attrs:{href:"../menu/mock"}},[s._v("Mock")]),s._v("中查看。")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("远程Mock")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run server:online\n")])])]),t("p",[s._v("命令行执行成功后，会启动一个本地node服务，监听请求，代理到远程MOCK服务器。请求监听规则，可参考配置文件中"),t("a",{attrs:{href:"../config#onlineMock"}},[s._v("onlineMock")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[s._v("#")]),s._v(" 编译")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" build.sh\n")])])]),t("p",[s._v("编译命令，具体可以参考"),t("a",{attrs:{href:"../menu/build"}},[s._v("编译Build")])]),s._v(" "),t("h2",{attrs:{id:"快速创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速创建"}},[s._v("#")]),s._v(" 快速创建")]),s._v(" "),t("p",[s._v("通过命令可以快速创建符合小程序page、component、file；")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart create "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nOptions:\n    -p --page "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pageName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("            create page\n    -c --component "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("componentName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  create component\n    -f --file "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("fileName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            create "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n    -h, --help                      display "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("strong",[s._v("[pageName]")]),s._v(": 可以是目录结构的，例如 samrt create -p pages/a/")])]),s._v(" "),t("h2",{attrs:{id:"其他命令行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他命令行"}},[s._v("#")]),s._v(" 其他命令行")]),s._v(" "),t("ol",[t("li")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run start\n")])])]),t("p",[s._v("相当于npm install和npm run dev。")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n")])])]),t("p",[s._v("该命令主要是提供给"),t("code",[s._v("sh build.sh")]),s._v("使用，它会将<app_name>目录中的"),t("a",{attrs:{href:"../config#rules"}},[s._v("指定文件")]),s._v("进行处理并输出到dist目录中。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("以上命名行，均可以在<app_name>目录下的package.json的scripts属性中查看，可根据具体需求进行定制化修改。")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("smart update\n")])])]),t("p",[s._v("更新smart-cli。")])])}),[],!1,null,null,null);a.default=r.exports}}]);